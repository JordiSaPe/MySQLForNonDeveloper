###### 비개발자를 위한 MySQL
# 중복 제거

한 컬럼의 데이터에서 중복된 데이터가 있을 수 있습니다. 이런 **중복 데이터를 제거**할 수 있는 명령어에 대해서 알아봅시다.

## `DISTINCT`
먼저 주문 테이블을 보겠습니다.

|손님이름|메뉴    |가격 |
|--------|--------|-----|
|이선협  |김치찌개|10000|
|김지환  |된장찌개|8000 |
|이선협  |비지찌개|10000|
|김지환  |스테이크|28000|
|이선협  |김치찌개|10000|
|남세현  |라면    |4000 |

`GROUP BY`를 배우면서 봤던 테이블입니다. 여기서 각 손님의 이름별로 합치고 싶다면 `GROUP BY`를 사용해서 해결할 수 있었습니다. 여기서 다른 방법이 있습니다. `GROUP BY`가 하나의 데이터를 합쳤다면 중복된 데이터를 전부 제거하는 방법도 결과적으로는 같습니다. 바로 `DISTINCT`라는 명령어를 사용하면 **중복을 제거**할 수 있습니다.

```sql
SELECT DISTINCT customer FROM orders;
SELECT customer FROM orders GROUP BY customer;
# 두 쿼리의 동작은 같습니다. 하지만 결과는 다를 수 있습니다.
```

단 그룹화 되는 것은 아니기 때문에 `count`와 같은 집계함수는 사용할 수 없습니다. 그리고 `GROUP BY`는 그룹화 한 컬럼을 중심으로 오름차순 정렬되지만 `DISTINCT`는 정렬하지 않습니다. 거의 웬만한 작업은 `GROUP BY`를 통해 해결이 가능하지만 `GROUP BY`보다 `DISTINCT`가 더 편리한 상황이 있습니다. 바로 `GROUP BY`를 통해 그룹화한 데이터를 집계함수를 통해 다시 묶을 때 인데요 예를들어 그룹화된 로우의 갯수를 구하려면 다음과 같이 쿼리를 만들 수 있습니다.

```sql
# 아직 서브쿼리를 배우지는 않았지만 이런 형태로 사용할 수 있습니다.
SELECT count(*) FROM (SELECT count(*) FROM orders GROUP BY customer) as subquery;
# 결과
# count(*)
# 3
```

상당히 쿼리가 복잡해지는데요, 이것과 똑같이 동작하는 쿼리를 `DISTINCT`를 통해 쉽게 만들 수 있습니다.

```sql
SELECT count(DISTINCT customer) FROM orders;
# 결과
# count(*)
# 3
```

## 마치며
이번 장에서는 `DISTINCT`에 대해서 배웠습니다. 사실 잘 사용할 일은 없지만 알아두면 간간히 사용할 기회가 있을거라고 생각합니다. [다음 장](SUBQUERY.md)에서는 **서브쿼리**에 대해서 알아보겠습니다.

## 지적, 수정사항에 대해서
Github 계정이 있으신 분들은 Issue에 지적사항을 등록해주시거나 직접 수정하여 Pull request를 주시면 반영하도록 하겠습니다. <br>Github 계정이 없으신 분들은 kciter@naver.com를 통해 지적사항을 보내주세요. :smile:

## 라이센스
<a rel="license" href="http://creativecommons.org/publicdomain/mark/1.0/">
<img src="https://licensebuttons.net/p/mark/1.0/88x31.png" alt="Public Domain Mark" />
</a>

이 문서는 [CC0 라이센스](LICENSE)를 따릅니다.

특허권 또는 상표권은 CC0에 의해 영향을 받지 않으며, 퍼블리시티권 및 프라이버시권 등 저작물 자체에 대해 또는 저작물 이용에 대해 타인이 갖는 권리 또한 영향을 받지 않습니다.

달리 정하지 않은 한, 본 저작물의 인증자는 관련법에서 허용하는 최대 한도 내에서 저작물에 대해 아무런 보증도 하지 않으며 저작물의 모든 이용에 관한 어떠한 책임도 지지 않습니다.

저작물을 사용하거나 인용할 때 저자나 인증자로부터 승인을 받았다는 뜻을 시사하여서는 안됩니다.
